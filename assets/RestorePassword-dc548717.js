import{_ as m,o as n,g as d,i as r,l as u,v as h,t as c,x as p,q as _,u as E}from"./index-2aa79ce7.js";const v={data(){return{email:"",isEmailValid:!1,allUsers:[],messageError:"",msjBtn:"Continuar"}},methods:{validarEmail(){const o=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;this.isEmailValid=o.test(this.email)},isOkEmail(){fetch("http://127.0.0.1:5000/users").then(e=>{if(e.ok)return e.json();throw new Error("Error en la solicitud")}).then(e=>{this.allUsers=e,this.allUsers.some(i=>i.email==this.email)?this.sendEmail(this.email):this.messageError="El correo electrónico ingresado es incorrecto o no está registrado."}).catch(e=>{console.error("Error: ",e)})},sendEmail(o){const e={email:o};let i="http://localhost:5000/restablecer-contrasena";var l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch(i,l).then(s=>{if(s.ok)return this.msjBtn="Correo Enviado!",s.json();throw new Error("Error en la solicitud")}).catch(s=>{console.error("Error: ",s)})}}},f=o=>(_("data-v-b3bd30a8"),o=o(),E(),o),b={class:"wrapper"},g={class:"container"},k={class:"container-correo"},w=f(()=>r("div",null,[r("h2",null,"Ingresa tu Correo Electrónico")],-1)),y={key:0,class:"verification"},j=["disabled"];function x(o,e,i,l,s,a){return n(),d("div",b,[r("div",g,[r("div",k,[w,r("div",null,[u(r("input",{type:"email","onUpdate:modelValue":e[0]||(e[0]=t=>s.email=t),required:"",onInput:e[1]||(e[1]=(...t)=>a.validarEmail&&a.validarEmail(...t)),placeholder:"ejemplo@gmail.com"},null,544),[[h,s.email]]),s.messageError?(n(),d("div",y,c(s.messageError),1)):p("",!0)]),r("div",null,[r("button",{class:"btn",type:"button",onClick:e[2]||(e[2]=(...t)=>a.isOkEmail&&a.isOkEmail(...t)),disabled:!s.isEmailValid},c(s.msjBtn),9,j)])])])])}const C=m(v,[["render",x],["__scopeId","data-v-b3bd30a8"]]);export{C as default};
